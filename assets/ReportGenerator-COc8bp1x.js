import{d as V,c as k,L as ie,a as R,e as z,x as $,u as M,t as C,v as l,M as de,y as P,N as ue,b as a,O as ce,f as J,m as S,q as _,P as N,W as pe,Q as ge,S as me,F,s as B,g as y,U as ve,V as fe,Y as ye,B as he,r as w,w as b,n as j,X as Y,z as xe,D as Te,J as be,o as we}from"./index-BpRoBJd6.js";import{i as Re,g as Se}from"./report-ENJDrU5c.js";import{_ as A}from"./Chip.vue_vue_type_script_setup_true_lang-Bxx9cVti.js";const Me={key:0,class:"chat-client-select-label"},ke={class:"chat-client-select-value-container"},Pe={class:"chat-client-select-value-text"},Ce={key:1,class:"chat-client-select-value-placeholder"},$e={class:"chat-client-select-item-content"},Oe={key:1,class:"chat-client-select-helper-text"},Ve=V({__name:"Select",props:{value:{default:void 0},modelValue:{default:void 0},label:{default:""},helperText:{default:""},className:{default:""},items:{default:()=>[]},placeholder:{default:"Select an option"},variant:{default:"filled"},iconPosition:{default:"leading"}},emits:["update:value","update:modelValue"],setup(t,{emit:r}){const v=n=>typeof n=="object"&&n!==null&&!Array.isArray(n),c=t,x=r,p=k(()=>c.items.map((n,d)=>{if(v(n)){const s=n,i=s.label??String(s.value??""),e=s.value??(typeof s.label=="string"?s.label:i);return{label:i,originalValue:e,internalValue:`${d}-${String(e)}`,icon:s.icon,iconProps:s.iconProps,raw:n}}const o=String(n);return{label:o,originalValue:n,internalValue:`${d}-${o}`,raw:n}})),h=k(()=>c.value!==void 0?c.value:c.modelValue),u=k(()=>p.value.find(n=>Object.is(n.originalValue,h.value))),m=k({get:()=>{var n;return(n=u.value)==null?void 0:n.internalValue},set:n=>{const d=p.value.find(s=>s.internalValue===n),o=d?d.originalValue:void 0;x("update:value",o),x("update:modelValue",o)}}),g=ie(c,"iconPosition");return(n,d)=>(y(),R("div",{class:z(["chat-client-select-wrapper",t.className])},[t.label?(y(),R("label",Me,C(t.label),1)):$("",!0),M(l(de),{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=o=>m.value=o)},{default:P(()=>[M(l(ue),{class:z(["chat-client-select-trigger",`chat-client-select-trigger--${t.variant}`])},{default:P(()=>[M(l(ce),{placeholder:t.placeholder},{default:P(()=>[u.value?J(n.$slots,"value",{key:0,item:u.value},()=>[a("div",ke,[u.value.icon&&g.value==="leading"?(y(),S(_(u.value.icon),N({key:0},u.value.iconProps,{class:"chat-client-select-value-icon chat-client-select-value-icon--leading"}),null,16)):$("",!0),a("span",Pe,C(u.value.label),1),u.value.icon&&g.value==="trailing"?(y(),S(_(u.value.icon),N({key:1},u.value.iconProps,{class:"chat-client-select-value-icon chat-client-select-value-icon--trailing"}),null,16)):$("",!0)])],!0):(y(),R("span",Ce,C(t.placeholder),1))]),_:3},8,["placeholder"]),d[1]||(d[1]=a("div",{class:"chat-client-select-icon-wrapper"},[a("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"chat-client-select-icon"},[a("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),_:3},8,["class"]),M(l(pe),null,{default:P(()=>[M(l(ge),{class:"chat-client-select-content",position:"popper","side-offset":8,align:"start","body-lock":!1},{default:P(()=>[M(l(me),{class:"chat-client-select-viewport"},{default:P(()=>[(y(!0),R(F,null,B(p.value,o=>(y(),S(l(ve),{key:o.internalValue,value:o.internalValue,class:"chat-client-select-item"},{default:P(()=>[M(l(fe),null,{default:P(()=>[J(n.$slots,"item",{item:o,selected:o.internalValue===m.value},()=>[a("div",$e,[o.icon&&g.value==="leading"?(y(),S(_(o.icon),N({key:0,ref_for:!0},o.iconProps,{class:"chat-client-select-item-icon chat-client-select-item-icon--leading"}),null,16)):$("",!0),a("span",null,C(o.label),1),o.icon&&g.value==="trailing"?(y(),S(_(o.icon),N({key:1,ref_for:!0},o.iconProps,{class:"chat-client-select-item-icon chat-client-select-item-icon--trailing"}),null,16)):$("",!0)])],!0)]),_:2},1024),M(l(ye),{class:"chat-client-select-item-indicator"},{default:P(()=>[...d[2]||(d[2]=[a("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M20 6L9 17L4 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1})]),_:2},1032,["value"]))),128))]),_:3})]),_:3})]),_:3})]),_:3},8,["modelValue"]),t.helperText?(y(),R("span",Oe,C(t.helperText),1)):$("",!0)],2))}}),H=he(Ve,[["__scopeId","data-v-26db0453"]]),_e=["MBR (Monthly Business Report)","WBR (Weekly Business Report)","YBR (Yearly Business Report)"],Ne=["25년 1월","25년 2월","25년 3월","25년 4월","25년 5월","25년 6월","25년 7월","25년 8월","25년 9월","25년 10월","25년 11월","25년 12월"],Fe=["CN 영업팀","FCCL 영업팀","NWB 개발 영업팀","PKG 개발 영업팀","PKG 영업팀","RCCL 영업팀","미국 법인","싱가포르 법인 베트남 지사","유럽 지사","일본 지사","중화권 사업부 개발 영업팀"],U=["NWB 개발 영업팀","PKG 개발 영업팀","RCCL 영업팀","일본 지사","중화권 사업부 개발 영업팀"],D=["PKG","NWB","H/F","MCCL","STD","FCCL 양/단면","Casting 양/단면","DFP","FCCL기타","SIC","신사업","기타","바이오"],E=["글로벌","중화권"],L="MBR (Monthly Business Report)",I="25년 9월";function Be(t={}){const{initialConfig:r,userMessage:v=""}=t,c=w((r==null?void 0:r.reportType)||L),x=w((r==null?void 0:r.reportMonth)||I),p=w([...(r==null?void 0:r.selectedTeams)||U]),h=w((r==null?void 0:r.guidelines)||""),u=[...D],m=[...E],g=w([...(r==null?void 0:r.selectedProducts)||u]),n=w([...(r==null?void 0:r.selectedRegions)||m]),d=w((r==null?void 0:r.date)||new Date().toISOString().split("T")[0]),o=k(()=>r?r.reportType==="출하실적 조회":Re(v));function s(e){if(!e){c.value=L,x.value=I,p.value=[...U],h.value="",g.value=[...u],n.value=[...m],d.value=new Date().toISOString().split("T")[0];return}e.reportType==="출하실적 조회"?(e.selectedProducts&&(g.value=e.selectedProducts),e.selectedRegions&&(n.value=e.selectedRegions),e.date&&(d.value=e.date)):(c.value=e.reportType,x.value=e.reportMonth,p.value=e.selectedTeams,h.value=e.guidelines)}function i(e){return o.value?{reportType:"출하실적 조회",reportMonth:"",selectedTeams:[],guidelines:"",userMessage:e,selectedProducts:g.value,selectedRegions:n.value,date:d.value,isExecuted:!0}:{reportType:c.value,reportMonth:x.value,selectedTeams:p.value,guidelines:h.value,userMessage:e,isExecuted:!1}}return{reportType:c,reportMonth:x,selectedTeams:p,guidelines:h,selectedProducts:g,selectedRegions:n,date:d,productCategories:u,globalRegions:m,isShipmentQueryType:o,initializeForm:s,buildConfig:i}}function Ue(t={}){const{selectedProducts:r=[...D],selectedRegions:v=[...E],date:c=new Date().toISOString().split("T")[0],onUpdateSelectedProducts:x,onUpdateSelectedRegions:p,onUpdateDate:h}=t,u=w([...r]),m=w([...v]),g=w(c);b(()=>t.selectedProducts,s=>{s!==void 0&&JSON.stringify(s)!==JSON.stringify(u.value)&&(u.value=[...s])},{immediate:!0,deep:!0}),b(()=>t.selectedRegions,s=>{s!==void 0&&JSON.stringify(s)!==JSON.stringify(m.value)&&(m.value=[...s])},{immediate:!0,deep:!0}),b(()=>t.date,s=>{s!==void 0&&s!==g.value&&(g.value=s)},{immediate:!0}),b(u,s=>{x==null||x(s)},{deep:!0}),b(m,s=>{p==null||p(s)},{deep:!0}),b(g,s=>{h==null||h(s)});function n(s){const i=u.value.indexOf(s);i>-1?u.value.splice(i,1):u.value.push(s)}function d(s){const i=m.value.indexOf(s);i>-1?m.value.splice(i,1):m.value.push(s)}function o(s){g.value=s}return{selectedProducts:u,selectedRegions:m,date:g,productCategories:[...D],globalRegions:[...E],toggleProduct:n,toggleRegion:d,handleDateChange:o}}const De={class:"flex flex-col gap-6 w-full"},Ee={class:"flex items-start gap-6"},Le={class:"flex-1 flex flex-wrap gap-1.25"},Ie={class:"flex items-start gap-6"},Ge={class:"flex-1 flex flex-wrap gap-1.25"},je={class:"flex items-start gap-6"},Ae={class:"flex items-center gap-3"},Qe=["model-value"],We=V({__name:"ShipmentQueryForm",props:{selectedProducts:{default:()=>[...D]},selectedRegions:{default:()=>[...E]},date:{default:()=>new Date().toISOString().split("T")[0]}},emits:["update:selectedProducts","update:selectedRegions","update:date"],setup(t,{emit:r}){const v=t,c=r,{selectedProducts:x,selectedRegions:p,date:h,productCategories:u,globalRegions:m,toggleProduct:g,toggleRegion:n,handleDateChange:d}=Ue({selectedProducts:v.selectedProducts,selectedRegions:v.selectedRegions,date:v.date,onUpdateSelectedProducts:s=>c("update:selectedProducts",s),onUpdateSelectedRegions:s=>c("update:selectedRegions",s),onUpdateDate:s=>c("update:date",s)}),o=s=>{const i=s.target;d(i.value)};return(s,i)=>(y(),R("div",De,[a("div",Ee,[i[0]||(i[0]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," SOI 구분 ",-1)),a("div",Le,[(y(!0),R(F,null,B(l(u),e=>(y(),S(l(A),{key:e,text:e,variant:"outlined",size:"large","class-name":"cursor-pointer !rounded-full !h-9 !px-5",style:j({color:l(x).includes(e)?"var(--cobalt-600)":"var(--gray-700)",borderColor:l(x).includes(e)?"var(--cobalt-600)":"var(--gray-300)"}),onClick:T=>l(g)(e)},null,8,["text","style","onClick"]))),128))])]),a("div",Ie,[i[1]||(i[1]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 글로벌 구분 ",-1)),a("div",Ge,[(y(!0),R(F,null,B(l(m),e=>(y(),S(l(A),{key:e,text:e,variant:"outlined",size:"large","class-name":"cursor-pointer !rounded-full !h-9 !px-5",style:j({color:l(p).includes(e)?"var(--cobalt-600)":"var(--gray-700)",borderColor:l(p).includes(e)?"var(--cobalt-600)":"var(--gray-300)"}),onClick:T=>l(n)(e)},null,8,["text","style","onClick"]))),128))])]),a("div",je,[i[2]||(i[2]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 조회일 ",-1)),a("div",Ae,[a("input",{"model-value":l(h),type:"date",class:"px-3 py-2 border border-gray-200 rounded-md bg-white text-sm leading-[1.4285] text-gray-800 focus:border-blue-500 focus:outline-none cursor-pointer",onInput:o},null,40,Qe)])])]))}});function ze(t={}){const{reportType:r=L,reportMonth:v=I,selectedTeams:c=[...U],guidelines:x="",onUpdateReportType:p,onUpdateReportMonth:h,onUpdateSelectedTeams:u,onUpdateGuidelines:m}=t,g=w(r),n=w(v),d=w([...c]),o=w(x);b(()=>t.reportType,e=>{e!==void 0&&e!==g.value&&(g.value=e)},{immediate:!0}),b(()=>t.reportMonth,e=>{e!==void 0&&e!==n.value&&(n.value=e)},{immediate:!0}),b(()=>t.selectedTeams,e=>{e!==void 0&&JSON.stringify(e)!==JSON.stringify(d.value)&&(d.value=[...e])},{immediate:!0,deep:!0}),b(()=>t.guidelines,e=>{e!==void 0&&e!==o.value&&(o.value=e)},{immediate:!0}),b(g,e=>{p==null||p(e)}),b(n,e=>{h==null||h(e)}),b(d,e=>{u==null||u(e)},{deep:!0}),b(o,e=>{m==null||m(e)});function s(e){const T=d.value.indexOf(e);T>-1?d.value.splice(T,1):d.value.push(e)}function i(e){o.value=e}return{reportType:g,reportMonth:n,selectedTeams:d,guidelines:o,reportTypeOptions:[..._e],monthOptions:[...Ne],teams:[...Fe],toggleTeam:s,handleGuidelinesChange:i}}const Je={class:"flex flex-col gap-6 w-full"},Ye={class:"flex items-start gap-6"},He={class:"flex items-start gap-6"},Ke={class:"flex items-start gap-6"},qe={class:"flex-1 flex flex-wrap gap-1.25"},Xe={class:"flex items-start gap-6"},Ze=["model-value"],et=V({__name:"MBRReportForm",props:{reportType:{default:L},reportMonth:{default:I},selectedTeams:{default:()=>[...U]},guidelines:{default:""}},emits:["update:reportType","update:reportMonth","update:selectedTeams","update:guidelines"],setup(t,{emit:r}){const v=t,c=r,{reportType:x,reportMonth:p,selectedTeams:h,guidelines:u,reportTypeOptions:m,monthOptions:g,teams:n,toggleTeam:d,handleGuidelinesChange:o}=ze({reportType:v.reportType,reportMonth:v.reportMonth,selectedTeams:v.selectedTeams,guidelines:v.guidelines,onUpdateReportType:i=>c("update:reportType",i),onUpdateReportMonth:i=>c("update:reportMonth",i),onUpdateSelectedTeams:i=>c("update:selectedTeams",i),onUpdateGuidelines:i=>c("update:guidelines",i)}),s=i=>{const e=i.target;o(e.value)};return(i,e)=>(y(),R("div",Je,[a("div",Ye,[e[2]||(e[2]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 보고서 유형 ",-1)),M(l(H),{modelValue:l(x),"onUpdate:modelValue":e[0]||(e[0]=T=>Y(x)?x.value=T:null),items:l(m),variant:"outlined","class-name":"w-[258px]"},null,8,["modelValue","items"])]),a("div",He,[e[3]||(e[3]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 작성 월 ",-1)),M(l(H),{modelValue:l(p),"onUpdate:modelValue":e[1]||(e[1]=T=>Y(p)?p.value=T:null),items:l(g),variant:"outlined","class-name":"w-[107px]"},null,8,["modelValue","items"])]),a("div",Ke,[e[4]||(e[4]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 작성 범위 ",-1)),a("div",qe,[(y(!0),R(F,null,B(l(n),T=>(y(),S(l(A),{key:T,text:T,variant:"outlined",size:"large","class-name":"cursor-pointer !rounded-full !h-9 !px-5",style:j({color:l(h).includes(T)?"var(--cobalt-600)":"var(--gray-700)",borderColor:l(h).includes(T)?"var(--cobalt-600)":"var(--gray-300)"}),onClick:Q=>l(d)(T)},null,8,["text","style","onClick"]))),128))])]),a("div",Xe,[e[5]||(e[5]=a("label",{class:"text-sm font-bold leading-[1.4285] text-gray-800 w-18 shrink-0"}," 지침 ",-1)),a("textarea",{"model-value":l(u),class:"flex-1 h-24 px-3 py-2 border border-gray-200 rounded-md resize-none bg-white text-sm leading-[1.4285] text-gray-800 placeholder:text-gray-600 focus:border-blue-500 focus:outline-none",placeholder:"보고서에 포함하면 좋은 내용을 입력해주세요.",onInput:s},null,40,Ze)])]))}}),tt={class:"flex justify-center min-h-screen py-8 px-4"},st={class:"w-full max-w-190 flex flex-col gap-10 py-8"},lt={key:0,class:"flex flex-col items-end gap-2.5 self-stretch"},at={class:"flex justify-end items-center gap-2.5 px-4 py-2 rounded-[20px] bg-gray-50"},nt={class:"text-base leading-relaxed text-gray-900"},ot={class:"flex flex-col items-end gap-6 w-full"},rt={class:"flex flex-col gap-2 w-full"},it={class:"text-base leading-relaxed text-gray-900"},dt={class:"flex justify-end w-full"},ut=V({__name:"ReportGeneratorView",props:{reportType:{},reportMonth:{},selectedTeams:{},guidelines:{},selectedProducts:{},selectedRegions:{},date:{},isShipmentQuery:{type:Boolean},userMessage:{},productCategories:{},globalRegions:{},openNewWindowUrl:{},updateReportType:{type:Function},updateReportMonth:{type:Function},updateSelectedTeams:{type:Function},updateGuidelines:{type:Function},updateSelectedProducts:{type:Function},updateSelectedRegions:{type:Function},updateDate:{type:Function},generateReport:{type:Function},openNewWindow:{type:Function}},setup(t){return(r,v)=>(y(),R("div",tt,[a("div",st,[t.userMessage?(y(),R("div",lt,[a("div",at,[a("p",nt,C(t.userMessage),1)])])):$("",!0),a("div",ot,[a("div",rt,[a("p",it,C(t.isShipmentQuery?"조회할 출하 실적 조건을 선택해주세요.":"AI Agent가 MBR 보고서를 어떤 방향으로 작성하면 좋을지 주제와 요청사항을 알려주세요."),1)]),t.isShipmentQuery?(y(),S(We,{key:0,"selected-products":t.selectedProducts,"selected-regions":t.selectedRegions,date:t.date,"onUpdate:selectedProducts":t.updateSelectedProducts,"onUpdate:selectedRegions":t.updateSelectedRegions,"onUpdate:date":t.updateDate},null,8,["selected-products","selected-regions","date","onUpdate:selectedProducts","onUpdate:selectedRegions","onUpdate:date"])):(y(),S(et,{key:1,"report-type":t.reportType,"report-month":t.reportMonth,"selected-teams":t.selectedTeams,guidelines:t.guidelines,"onUpdate:reportType":t.updateReportType,"onUpdate:reportMonth":t.updateReportMonth,"onUpdate:selectedTeams":t.updateSelectedTeams,"onUpdate:guidelines":t.updateGuidelines},null,8,["report-type","report-month","selected-teams","guidelines","onUpdate:reportType","onUpdate:reportMonth","onUpdate:selectedTeams","onUpdate:guidelines"])),a("div",dt,[t.isShipmentQuery?(y(),R("button",{key:0,type:"button",class:"flex items-center justify-center gap-2.5 px-4 py-2 w-37.5 mr-2 h-10 bg-cobalt-600 text-white rounded-md hover:bg-cobalt-700 transition-colors font-medium text-sm cursor-pointer",onClick:v[0]||(v[0]=(...c)=>t.openNewWindow&&t.openNewWindow(...c))},[...v[2]||(v[2]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),xe(" 새 창으로 열기 ",-1)])])):$("",!0),a("button",{type:"button",class:"flex items-center justify-center gap-2.5 px-4 py-2 w-28.25 h-10 bg-cobalt-600 text-white rounded-md hover:bg-cobalt-700 transition-colors font-medium text-sm cursor-pointer",onClick:v[1]||(v[1]=(...c)=>t.generateReport&&t.generateReport(...c))},C(t.isShipmentQuery?"조회하기":"보고서 생성"),1)])])])]))}}),ct={key:0,class:"flex items-center justify-center h-full"},pt={class:"text-center"},gt={class:"text-sm text-gray-400"},yt=V({__name:"ReportGenerator",props:{userMessage:{}},emits:["generate-report"],setup(t,{emit:r}){const v=t,c=r,x=be(),p=Te(),h=k(()=>x.params.agentType||""),u=k(()=>h.value?["shipment","mbr"].includes(h.value):!0),m=k(()=>{if(!p.currentThreadId)return null;const f=p.threads.find(O=>O.id===p.currentThreadId);return f==null?void 0:f.reportConfig}),g=k(()=>{const f=p.messages.find(O=>O.role==="user");return v.userMessage||(f==null?void 0:f.content)||"8월달 월간보고를 바탕으로 9월 MBR 초안 작성해줘"}),{reportType:n,reportMonth:d,selectedTeams:o,guidelines:s,selectedProducts:i,selectedRegions:e,date:T,productCategories:Q,globalRegions:K,isShipmentQueryType:W,initializeForm:q,buildConfig:X}=Be({initialConfig:m.value,userMessage:g.value}),Z=f=>{n.value=f},ee=f=>{d.value=f},te=f=>{o.value=f},se=f=>{s.value=f},le=f=>{i.value=f},ae=f=>{e.value=f},ne=f=>{T.value=f},G=k(()=>W.value?Se({selectedProducts:i.value,selectedRegions:e.value,date:T.value}):""),oe=()=>{G.value&&window.open(G.value,"_blank","noopener,noreferrer")},re=async()=>{const f=X(g.value);await p.createThread(f.userMessage,"generate-report"),c("generate-report",f)};return we(()=>{m.value&&q(m.value)}),(f,O)=>u.value?(y(),S(ut,{key:1,"report-type":l(n),"report-month":l(d),"selected-teams":l(o),guidelines:l(s),"selected-products":l(i),"selected-regions":l(e),date:l(T),"is-shipment-query":l(W),"user-message":g.value,"product-categories":l(Q),"global-regions":l(K),"open-new-window-url":G.value,"update-report-type":Z,"update-report-month":ee,"update-selected-teams":te,"update-guidelines":se,"update-selected-products":le,"update-selected-regions":ae,"update-date":ne,"generate-report":re,"open-new-window":oe},null,8,["report-type","report-month","selected-teams","guidelines","selected-products","selected-regions","date","is-shipment-query","user-message","product-categories","global-regions","open-new-window-url"])):(y(),R("div",ct,[a("div",pt,[O[0]||(O[0]=a("p",{class:"text-lg text-gray-600 mb-2"},"준비 중입니다",-1)),a("p",gt,C(h.value)+" 기능은 곧 제공될 예정입니다.",1)])]))}});export{yt as default};
